<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G√©n√©rateur de date myst√®re üéâ</title>
  <style>
    :root {
      --bg-color: #0f172a;
      --card-color: #1e2537;
      --accent: #6366f1;
      --accent-hover: #4f46e5;
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --danger: #ef4444;
      --danger-hover: #dc2626;
      --radius-xl: 16px;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", Roboto, "Segoe UI", sans-serif;
      background-color: var(--bg-color);
      color: var(--text-primary);
      margin: 0;
      padding: 2rem 1rem 4rem;
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 420px;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .header {
      text-align: center;
    }

    .title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
      line-height: 1.2;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: .5rem;
    }

    .title span.emoji {
      font-size: 1.9rem;
      line-height: 1;
    }

    .card {
      background-color: var(--card-color);
      border-radius: var(--radius-xl);
      box-shadow: 0 30px 80px rgba(0,0,0,.6);
      padding: 1rem 1.25rem 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .section-label {
      font-size: .8rem;
      font-weight: 500;
      color: var(--text-secondary);
      letter-spacing: .03em;
      text-transform: uppercase;
    }

    .row {
      display: flex;
      flex-direction: column;
      gap: .75rem;
    }

    .input-line {
      display: flex;
      gap: .5rem;
    }

    input[type="text"] {
      flex: 1;
      background-color: rgba(15,23,42,.6);
      border: 1px solid rgba(148,163,184,.3);
      border-radius: var(--radius-xl);
      padding: .8rem 1rem;
      font-size: 1rem;
      color: var(--text-primary);
      outline: none;
    }

    input[type="text"]::placeholder {
      color: var(--text-secondary);
    }

    button.primary {
      background-color: var(--accent);
      border: none;
      border-radius: var(--radius-xl);
      padding: .8rem 1rem;
      font-size: .9rem;
      font-weight: 600;
      color: #fff;
      flex-shrink: 0;
      cursor: pointer;
    }

    button.primary:active,
    button.primary:hover {
      background-color: var(--accent-hover);
    }

    .actions-col {
      display: flex;
      flex-direction: column;
      gap: .8rem;
    }

    button.full {
      width: 100%;
      text-align: center;
      justify-content: center;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
    }

    .danger-zone {
      background-color: rgba(239,68,68,.08);
      border: 1px solid rgba(239,68,68,.4);
      border-radius: var(--radius-xl);
      padding: .75rem 1rem 1rem;
      display: flex;
      flex-direction: column;
      gap: .75rem;
    }

    .danger-label {
      font-size: .8rem;
      font-weight: 500;
      color: var(--danger);
      letter-spacing: .03em;
      text-transform: uppercase;
    }

    button.danger {
      background-color: var(--danger);
      border: none;
      border-radius: var(--radius-xl);
      padding: .8rem 1rem;
      font-size: .9rem;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
    }

    button.danger:active,
    button.danger:hover {
      background-color: var(--danger-hover);
    }

    .idea-list-container {
      display: flex;
      flex-direction: column;
      gap: .5rem;
      max-height: 200px;
      overflow-y: auto;
      border-radius: var(--radius-xl);
      background-color: rgba(15,23,42,.4);
      border: 1px solid rgba(148,163,184,.2);
      padding: .75rem .75rem;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) transparent;
    }

    .idea-item {
      background-color: rgba(30,41,59,.6);
      border: 1px solid rgba(148,163,184,.2);
      border-radius: var(--radius-xl);
      padding: .7rem .9rem;
      font-size: .95rem;
      line-height: 1.3rem;
      color: var(--text-primary);
      word-break: break-word;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: .75rem;
    }

    .idea-text {
      flex: 1;
    }

    .small-label {
      font-size: .75rem;
      line-height: 1rem;
      color: var(--text-secondary);
    }

    .random-card {
      background-color: rgba(15,23,42,.4);
      border: 1px solid rgba(148,163,184,.2);
      border-radius: var(--radius-xl);
      padding: 1rem;
      min-height: 60px;
      display: flex;
      align-items: center;
      font-size: 1rem;
      line-height: 1.4rem;
      font-weight: 500;
      color: var(--text-primary);
      word-break: break-word;
    }

    .footer-hint {
      font-size: .75rem;
      line-height: 1rem;
      color: var(--text-secondary);
      text-align: center;
      margin-top: 1rem;
    }

    @media (min-width: 460px) {
      .title {
        font-size: 1.5rem;
        flex-direction: row;
      }
      .title span.emoji {
        font-size: 1.6rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- HEADER -->
    <header class="header">
      <div class="title">
        <span>G√©n√©rateur de date myst√®re</span>
        <span class="emoji" aria-hidden="true">üéâ</span>
      </div>
    </header>

    <!-- AJOUT D'ID√âE -->
    <section class="card">
      <div class="section-label">Ajouter une id√©e de date</div>

      <div class="row">
        <div class="input-line">
          <input
            id="ideaInput"
            type="text"
            placeholder="Ex: Brunch + march√© aux puces, atelier c√©ramique..."
            autocomplete="off"
          />
          <button class="primary" onclick="addIdea()">Ajouter</button>
        </div>

        <div class="small-label">
          Astuce : ajoute aussi des id√©es perso genre ‚Äúsoir√©e foot + pizza maison‚Äù, ‚Äúroadtrip spontan√©‚Äù.
        </div>
      </div>

      <div class="row">
        <div class="section-label">Id√©es enregistr√©es</div>
        <div id="ideaList" class="idea-list-container">
          <!-- les id√©es s'affichent ici -->
        </div>
      </div>
    </section>

    <!-- TIRAGE + RESET -->
    <section class="card">
      <div class="section-label">Tirage al√©atoire</div>

      <div class="actions-col">
        <button class="primary full" onclick="pickRandomIdea()">
          üé≤ Tirer une id√©e myst√®re
        </button>

        <div id="randomResult" class="random-card">
          Aucune id√©e tir√©e pour l‚Äôinstant üëÄ
        </div>
      </div>

      <div class="danger-zone">
        <div class="danger-label">R√©initialiser la liste</div>
        <div class="small-label">
          Efface toutes les id√©es (d√©finitivement). Il n‚Äôy aura pas de confirmation.
        </div>
        <button class="danger full" onclick="resetIdeas()">
          üóëÔ∏è R√©initialiser
        </button>
      </div>
    </section>

    <footer class="footer-hint">
      Les id√©es sont enregistr√©es sur TON t√©l√©phone. <br/>
      Si tu reviens plus tard sur le m√™me lien, elles restent.
    </footer>
  </div>

  <script>
    // --- stockage local : on r√©cup√®re ce qui existe d√©j√† ---
    let ideas = [];

    function loadIdeasFromStorage() {
      try {
        const raw = localStorage.getItem('ideas');
        if (raw) {
          ideas = JSON.parse(raw);
          if (!Array.isArray(ideas)) {
            ideas = [];
          }
        } else {
          ideas = [];
        }
      } catch (e) {
        ideas = [];
      }
    }

    function saveIdeasToStorage() {
      localStorage.setItem('ideas', JSON.stringify(ideas));
    }

    // --- maj affichage de la liste ---
    function updateIdeaList() {
      const listEl = document.getElementById('ideaList');
      listEl.innerHTML = '';

      if (ideas.length === 0) {
        const emptyMsg = document.createElement('div');
        emptyMsg.className = 'idea-item';
        emptyMsg.innerHTML = `<div class="idea-text" style="color: var(--text-secondary);">
          Aucune id√©e pour le moment. Ajoute-en une juste au-dessus ‚úçÔ∏è
        </div>`;
        listEl.appendChild(emptyMsg);
        return;
      }

      ideas.forEach((text, index) => {
        const item = document.createElement('div');
        item.className = 'idea-item';

        const txt = document.createElement('div');
        txt.className = 'idea-text';
        txt.textContent = text;

        // On ne remet PAS la croix comme tu as demand√© üòâ

        item.appendChild(txt);
        listEl.appendChild(item);
      });
    }

    // --- ajout d'id√©e ---
    function addIdea() {
      const input = document.getElementById('ideaInput');
      const newIdea = (input.value || '').trim();

      if (newIdea.length === 0) {
        return;
      }

      ideas.push(newIdea);
      saveIdeasToStorage();
      updateIdeaList();

      input.value = '';
      input.focus();
    }

    // --- tirage al√©atoire ---
    function pickRandomIdea() {
      const resultEl = document.getElementById('randomResult');

      if (ideas.length === 0) {
        resultEl.textContent = "Tu n'as pas encore ajout√© d'id√©es üò≠";
        return;
      }

      // Tirage au sort
      const idx = Math.floor(Math.random() * ideas.length);
      const chosen = ideas[idx];

      resultEl.textContent = chosen;
    }

    // --- reset complet sans popup ---
    function resetIdeas() {
      ideas = [];
      localStorage.removeItem('ideas');
      updateIdeaList();

      // On r√©initialise l'affichage du tirage aussi
      const resultEl = document.getElementById('randomResult');
      resultEl.textContent = "Aucune id√©e tir√©e pour l‚Äôinstant üëÄ";
    }

    // --- init au chargement ---
    loadIdeasFromStorage();
    updateIdeaList();
  </script>
</body>
</html>
